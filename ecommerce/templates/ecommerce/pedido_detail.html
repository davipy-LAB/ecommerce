{% extends 'ecommerce/base.html' %}

{% block content %}
<div class="card shadow p-4">
    <h2 class="card-title">Detalhes do Pedido #{{ pedido.id }}</h2>
    <hr>
    <p><strong>Cliente:</strong> {{ pedido.cliente.user.username }}</p>
    <p><strong>Status:</strong> <span class="badge bg-primary">{{ pedido.status }}</span></p>
    <p><strong>Data do Pedido:</strong> {{ pedido.data_pedido|date:"d/m/Y H:i" }}</p>
    
    <h4 class="mt-4">Produtos no Pedido</h4>
    {% if pedido.itempedido_set.all %}
    <ul class="list-group mt-2">
        {% for item in pedido.itempedido_set.all %}
            <li class="list-group-item d-flex justify-content-between align-items-center">
                {{ item.produto.nome }}
                <span class="badge bg-secondary rounded-pill">{{ item.quantidade }}</span>
            </li>
        {% endfor %}
    </ul>
    {% else %}
    <div class="alert alert-warning mt-2" role="alert">
        Este pedido n√£o possui produtos.
    </div>
    {% endif %}
    
    <a href="{% url 'pedido_list' %}" class="btn btn-secondary mt-4">Voltar para a lista</a>
</div>
{% endblock %}
